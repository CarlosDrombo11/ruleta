<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="Aplicación web interactiva de ruleta de premios con sincronización perfecta">
  <meta name="keywords" content="ruleta, premios, sorteo, rifa, interactivo">
  <meta name="author" content="Ruleta de Premios App">
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#3498DB">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Ruleta Premios">
  <meta name="msapplication-TileColor" content="#3498DB">
  <meta name="msapplication-config" content="/browserconfig.xml">
  
  <!-- Favicon -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="/assets/main-DisvQBRR.ts" as="script" type="module">
  
  <!-- Prevent FOUC (Flash of Unstyled Content) -->
  <style>
    /* Critical CSS for loading screen */
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      overflow: hidden;
    }
    
    #app {
      width: 100vw;
      height: 100vh;
    }
    
    /* Hide content until app loads */
    .loading-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      color: white;
      font-size: 2rem;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
    
    /* Prevent text selection on UI elements */
    .no-select {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
    
    /* Prevent zoom on inputs (iOS Safari) */
    input, select, textarea {
      font-size: 16px !important;
    }
    
    /* Prevent pull-to-refresh on mobile */
    html {
      overscroll-behavior: none;
    }
  </style>
  
  <title>Ruleta de Premios - Sorteo Interactivo</title>
  <script type="module" crossorigin src="/assets/index-B9QYkLbU.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/popmotion-Cozt_eC9.js">
  <link rel="modulepreload" crossorigin href="/assets/xlsx-CWeYVx7h.js">
  <link rel="stylesheet" crossorigin href="/assets/index-Bq_9JKxs.css">
<link rel="manifest" href="/manifest.webmanifest"><script id="vite-plugin-pwa:register-sw" src="/registerSW.js"></script></head>
<body>
  <!-- Application Container -->
  <div id="app" class="no-select">
    <!-- Loading placeholder shown before app initializes -->
    <div class="loading-placeholder">
      🎰 Cargando...
    </div>
  </div>

  <!-- Noscript fallback -->
  <noscript>
    <div style="
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #e74c3c;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
      font-family: Arial, sans-serif;
    ">
      <h1>JavaScript Requerido</h1>
      <p>Esta aplicación requiere JavaScript para funcionar correctamente.</p>
      <p>Por favor habilita JavaScript en tu navegador y recarga la página.</p>
    </div>
  </noscript>

  <!-- Hidden images for preloading (premio images) -->
  <div style="display: none;" aria-hidden="true">
    <img src="/images/premio-1.jpg" alt="Premio 1">
    <img src="/images/premio-2.jpg" alt="Premio 2">
    <img src="/images/premio-3.jpg" alt="Premio 3">
    <img src="/images/premio-4.jpg" alt="Premio 4">
    <img src="/images/premio-5.jpg" alt="Premio 5">
    <img src="/images/premio-6.jpg" alt="Premio 6">
    <img src="/images/premio-7.jpg" alt="Premio 7">
    <img src="/images/premio-8.jpg" alt="Premio 8">
  </div>

  <!-- Main Application Script -->

  <!-- Global error handler for older browsers -->
  <script>
    // Polyfill para navegadores muy antiguos
    if (!window.Promise) {
      document.getElementById('app').innerHTML = `
        <div style="
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
          background: #e74c3c;
          color: white;
          text-align: center;
          padding: 2rem;
          font-family: Arial, sans-serif;
        ">
          <h1>Navegador No Compatible</h1>
          <p>Tu navegador es demasiado antiguo para ejecutar esta aplicación.</p>
          <p>Por favor actualiza a una versión más reciente de:</p>
          <ul style="text-align: left; margin: 1rem 0;">
            <li>Google Chrome (versión 60+)</li>
            <li>Mozilla Firefox (versión 55+)</li>
            <li>Safari (versión 12+)</li>
            <li>Microsoft Edge (versión 79+)</li>
          </ul>
        </div>
      `;
    }
    
    // Handler global de errores para debugging
    window.addEventListener('error', function(e) {
      console.error('Error global capturado:', {
        message: e.message,
        filename: e.filename,
        lineno: e.lineno,
        colno: e.colno,
        error: e.error
      });
    });

    // Log de información del sistema para debugging
    console.log('🔍 Información del sistema:', {
      userAgent: navigator.userAgent,
      screen: screen.width + 'x' + screen.height,
      language: navigator.language,
      platform: navigator.platform,
      cookieEnabled: navigator.cookieEnabled,
      onLine: navigator.onLine,
      hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',
      deviceMemory: navigator.deviceMemory || 'unknown',
      connection: navigator.connection ? {
        effectiveType: navigator.connection.effectiveType,
        downlink: navigator.connection.downlink,
        rtt: navigator.connection.rtt
      } : 'unknown'
    });
  </script>

  <!-- Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Ruleta de Premios",
    "description": "Aplicación web interactiva para realizar sorteos y rifas con ruleta animada",
    "url": "https://tu-dominio.com",
    "applicationCategory": "GameApplication",
    "operatingSystem": "Web Browser",
    "permissions": "Micrófono (opcional), Almacenamiento local",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "Ruleta de Premios"
    },
    "browserRequirements": "Requires JavaScript. Compatible with Chrome 60+, Firefox 55+, Safari 12+, Edge 79+",
    "softwareVersion": "1.0.0",
    "dateCreated": "2025-01-01",
    "dateModified": "2025-01-01"
  }
  </script>

  <!-- Analytics placeholder (replace with your analytics code) -->
  <!--
  <script>
    // Google Analytics o tu sistema de analytics preferido
    // gtag('config', 'GA_MEASUREMENT_ID');
  </script>
  -->
</body>
</html>