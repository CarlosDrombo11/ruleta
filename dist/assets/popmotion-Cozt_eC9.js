function ae(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}var Y=function(){};const v=(e,t,n)=>Math.min(Math.max(n,e),t),k=.001,De=.01,Ne=10,Ee=.05,Ve=1;function Pe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,a,o=1-t;o=v(Ee,Ve,o),e=v(De,Ne,e/1e3),o<1?(s=i=>{const u=i*o,m=u*e,x=u-n,M=B(i,o),O=Math.exp(-m);return k-x/M*O},a=i=>{const m=i*o*e,x=m*n+n,M=Math.pow(o,2)*Math.pow(i,2)*e,O=Math.exp(-m),T=B(Math.pow(i,2),o);return(-s(i)+k>0?-1:1)*((x-M)*O)/T}):(s=i=>{const u=Math.exp(-i*e),m=(i-n)*e+1;return-k+u*m},a=i=>{const u=Math.exp(-i*e),m=(n-i)*(e*e);return u*m});const l=5/e,c=_e(s,a,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const i=Math.pow(c,2)*r;return{stiffness:i,damping:o*2*Math.sqrt(r*i),duration:e}}}const $e=12;function _e(e,t,n){let r=n;for(let s=1;s<$e;s++)r=r-e(r)/t(r);return r}function B(e,t){return e*Math.sqrt(1-t*t)}const ke=["duration","bounce"],Le=["stiffness","damping","mass"];function ee(e,t){return t.some(n=>e[n]!==void 0)}function qe(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!ee(e,Le)&&ee(e,ke)){const n=Pe(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function W(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:s}=e,a=ae(e,["from","to","restSpeed","restDelta"]);const o={done:!1,value:t};let{stiffness:l,damping:c,mass:i,velocity:u,duration:m,isResolvedFromDuration:x}=qe(a),M=te,O=te;function T(){const b=u?-(u/1e3):0,h=n-t,d=c/(2*Math.sqrt(l*i)),p=Math.sqrt(l/i)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-t)/100,.4)),d<1){const f=B(p,d);M=g=>{const y=Math.exp(-d*p*g);return n-y*((b+d*p*h)/f*Math.sin(f*g)+h*Math.cos(f*g))},O=g=>{const y=Math.exp(-d*p*g);return d*p*y*(Math.sin(f*g)*(b+d*p*h)/f+h*Math.cos(f*g))-y*(Math.cos(f*g)*(b+d*p*h)-f*h*Math.sin(f*g))}}else if(d===1)M=f=>n-Math.exp(-p*f)*(h+(b+p*h)*f);else{const f=p*Math.sqrt(d*d-1);M=g=>{const y=Math.exp(-d*p*g),F=Math.min(f*g,300);return n-y*((b+d*p*h)*Math.sinh(F)+f*h*Math.cosh(F))/f}}}return T(),{next:b=>{const h=M(b);if(x)o.done=b>=m;else{const d=O(b)*1e3,p=Math.abs(d)<=r,f=Math.abs(n-h)<=s;o.done=p&&f}return o.value=o.done?n:h,o},flipTarget:()=>{u=-u,[t,n]=[n,t],T()}}}W.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const te=e=>0,ce=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},z=(e,t,n)=>-n*e+n*t+e,le=(e,t)=>n=>Math.max(Math.min(n,t),e),S=e=>e%1?Number(e.toFixed(5)):e,E=/(-)?([\d]*\.?[\d])+/g,U=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ve=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function C(e){return typeof e=="string"}const V={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ie=Object.assign(Object.assign({},V),{transform:le(0,1)});Object.assign(Object.assign({},V),{default:1});const Be=e=>({test:t=>C(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),w=Be("%");Object.assign(Object.assign({},w),{parse:e=>w.parse(e)/100,transform:e=>w.transform(e*100)});const Z=(e,t)=>n=>!!(C(n)&&ve.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ue=(e,t,n)=>r=>{if(!C(r))return r;const[s,a,o,l]=r.match(E);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},j={test:Z("hsl","hue"),parse:ue("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+w.transform(S(t))+", "+w.transform(S(n))+", "+S(ie.transform(r))+")"},Ue=le(0,255),L=Object.assign(Object.assign({},V),{transform:e=>Math.round(Ue(e))}),R={test:Z("rgb","red"),parse:ue("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+L.transform(e)+", "+L.transform(t)+", "+L.transform(n)+", "+S(ie.transform(r))+")"};function Ge(e){let t="",n="",r="",s="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),s=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),s=e.substr(4,1),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const G={test:Z("#"),parse:Ge,transform:R.transform},P={test:e=>R.test(e)||G.test(e)||j.test(e),parse:e=>R.test(e)?R.parse(e):j.test(e)?j.parse(e):G.parse(e),transform:e=>C(e)?e:e.hasOwnProperty("red")?R.transform(e):j.transform(e)},fe="${c}",pe="${n}";function He(e){var t,n,r,s;return isNaN(e)&&C(e)&&((n=(t=e.match(E))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((s=(r=e.match(U))===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:0)>0}function me(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const r=e.match(U);r&&(n=r.length,e=e.replace(U,fe),t.push(...r.map(P.parse)));const s=e.match(E);return s&&(e=e.replace(E,pe),t.push(...s.map(V.parse))),{values:t,numColors:n,tokenised:e}}function de(e){return me(e).values}function he(e){const{values:t,numColors:n,tokenised:r}=me(e),s=t.length;return a=>{let o=r;for(let l=0;l<s;l++)o=o.replace(l<n?fe:pe,l<n?P.transform(a[l]):S(a[l]));return o}}const Ke=e=>typeof e=="number"?0:e;function We(e){const t=de(e);return he(e)(t.map(Ke))}const ge={test:He,parse:de,createTransformer:he,getAnimatableNone:We};function q(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ne({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=q(c,l,e+1/3),a=q(c,l,e),o=q(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const ze=(e,t,n)=>{const r=e*e,s=t*t;return Math.sqrt(Math.max(0,n*(s-r)+r))},Ze=[G,R,j],re=e=>Ze.find(t=>t.test(e)),be=(e,t)=>{let n=re(e),r=re(t),s=n.parse(e),a=r.parse(t);n===j&&(s=ne(s),n=R),r===j&&(a=ne(a),r=R);const o=Object.assign({},s);return l=>{for(const c in o)c!=="alpha"&&(o[c]=ze(s[c],a[c],l));return o.alpha=z(s.alpha,a.alpha,l),n.transform(o)}},Je=e=>typeof e=="number",Qe=(e,t)=>n=>t(e(n)),ye=(...e)=>e.reduce(Qe);function xe(e,t){return Je(e)?n=>z(e,t,n):P.test(e)?be(e,t):Oe(e,t)}const Me=(e,t)=>{const n=[...e],r=n.length,s=e.map((a,o)=>xe(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}},Xe=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=xe(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}};function se(e){const t=ge.parse(e),n=t.length;let r=0,s=0,a=0;for(let o=0;o<n;o++)r||typeof t[o]=="number"?r++:t[o].hue!==void 0?a++:s++;return{parsed:t,numNumbers:r,numRGB:s,numHSL:a}}const Oe=(e,t)=>{const n=ge.createTransformer(t),r=se(e),s=se(t);return r.numHSL===s.numHSL&&r.numRGB===s.numRGB&&r.numNumbers>=s.numNumbers?ye(Me(r.parsed,s.parsed),n):o=>`${o>0?t:e}`},Ye=(e,t)=>n=>z(e,t,n);function et(e){if(typeof e=="number")return Ye;if(typeof e=="string")return P.test(e)?be:Oe;if(Array.isArray(e))return Me;if(typeof e=="object")return Xe}function tt(e,t,n){const r=[],s=n||et(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]:t;l=ye(c,l)}r.push(l)}return r}function nt([e,t],[n]){return r=>n(ce(e,t,r))}function rt(e,t){const n=e.length,r=n-1;return s=>{let a=0,o=!1;if(s<=e[0]?o=!0:s>=e[r]&&(a=r-1,o=!0),!o){let c=1;for(;c<n&&!(e[c]>s||c===r);c++);a=c-1}const l=ce(e[a],e[a+1],s);return t[a](l)}}function Te(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;Y(a===t.length),Y(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const o=tt(t,r,s),l=a===2?nt(e,o):rt(e,o);return n?c=>l(v(e[0],e[a-1],c)):l}const st=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ot=e=>t=>Math.pow(t,e),at=ot(2),ct=st(at);function lt(e,t){return e.map(()=>t||ct).splice(0,e.length-1)}function it(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function ut(e,t){return e.map(n=>n*t)}function N({from:e=0,to:t=1,ease:n,offset:r,duration:s=300}){const a={done:!1,value:e},o=Array.isArray(t)?t:[e,t],l=ut(r&&r.length===o.length?r:it(o),s);function c(){return Te(l,o,{ease:Array.isArray(n)?n:lt(o,n)})}let i=c();return{next:u=>(a.value=i(u),a.done=u>=s,a),flipTarget:()=>{o.reverse(),i=c()}}}function ft({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:s=.5,modifyTarget:a}){const o={done:!1,value:t};let l=n*e;const c=t+l,i=a===void 0?c:a(c);return i!==c&&(l=i-t),{next:u=>{const m=-l*Math.exp(-u/r);return o.done=!(m>s||m<-s),o.value=o.done?i:i+m,o},flipTarget:()=>{}}}const oe={keyframes:N,spring:W,decay:ft};function pt(e){if(Array.isArray(e.to))return N;if(oe[e.type])return oe[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?N:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?W:N}const Re=1/60*1e3,mt=typeof performance<"u"?()=>performance.now():()=>Date.now(),je=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(mt()),Re);function dt(e){let t=[],n=[],r=0,s=!1,a=!1;const o=new WeakSet,l={schedule:(c,i=!1,u=!1)=>{const m=u&&s,x=m?t:n;return i&&o.add(c),x.indexOf(c)===-1&&(x.push(c),m&&s&&(r=t.length)),c},cancel:c=>{const i=n.indexOf(c);i!==-1&&n.splice(i,1),o.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let i=0;i<r;i++){const u=t[i];u(c),o.has(u)&&(l.schedule(u),e())}s=!1,a&&(a=!1,l.process(c))}};return l}const ht=40;let H=!0,A=!1,K=!1;const I={delta:0,timestamp:0},D=["read","update","preRender","render","postRender"],$=D.reduce((e,t)=>(e[t]=dt(()=>A=!0),e),{}),gt=D.reduce((e,t)=>{const n=$[t];return e[t]=(r,s=!1,a=!1)=>(A||xt(),n.schedule(r,s,a)),e},{}),bt=D.reduce((e,t)=>(e[t]=$[t].cancel,e),{});D.reduce((e,t)=>(e[t]=()=>$[t].process(I),e),{});const yt=e=>$[e].process(I),Fe=e=>{A=!1,I.delta=H?Re:Math.max(Math.min(e-I.timestamp,ht),1),I.timestamp=e,K=!0,D.forEach(yt),K=!1,A&&(H=!1,je(Fe))},xt=()=>{A=!0,H=!0,K||je(Fe)};function Se(e,t,n=0){return e-t-n}function Mt(e,t,n=0,r=!0){return r?Se(t+-e,t,n):t-(e-t)+n}function Ot(e,t,n,r){return r?e>=t+n:e<=-n}const Tt=e=>{const t=({delta:n})=>e(n);return{start:()=>gt.update(t,!0),stop:()=>bt.update(t)}};function Rt(e){var t,n,{from:r,autoplay:s=!0,driver:a=Tt,elapsed:o=0,repeat:l=0,repeatType:c="loop",repeatDelay:i=0,onPlay:u,onStop:m,onComplete:x,onRepeat:M,onUpdate:O}=e,T=ae(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:b}=T,h,d=0,p=T.duration,f,g=!1,y=!0,F;const J=pt(T);!((n=(t=J).needsInterpolation)===null||n===void 0)&&n.call(t,r,b)&&(F=Te([0,100],[r,b],{clamp:!1}),r=0,b=100);const Q=J(Object.assign(Object.assign({},T),{from:r,to:b}));function we(){d++,c==="reverse"?(y=d%2===0,o=Mt(o,p,i,y)):(o=Se(o,p,i),c==="mirror"&&Q.flipTarget()),g=!1,M&&M()}function Ie(){h.stop(),x&&x()}function Ae(_){if(y||(_=-_),o+=_,!g){const X=Q.next(Math.max(0,o));f=X.value,F&&(f=F(f)),g=y?X.done:o<=0}O?.(f),g&&(d===0&&(p??(p=o)),d<l?Ot(o,p,i,y)&&we():Ie())}function Ce(){u?.(),h=a(Ae),h.start()}return s&&Ce(),{stop:()=>{m?.(),h.stop()}}}export{Rt as a};
